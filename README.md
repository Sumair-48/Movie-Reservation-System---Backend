# üé¨ Movie Reservation System API

A full-featured backend API for a movie reservation system built with **FastAPI**. It supports user and admin roles, movie browsing, showtime scheduling, seat reservations, payment handling, and more.

---

## üöÄ Features

### üë§ User Module
- Sign up / Login (JWT-based auth)
- Browse movies by genre or language
- View showtimes and available seats
- Reserve or cancel seats
- Receive email notifications (on booking & cancellation)

### üõ†Ô∏è Admin Module
- Add/edit/delete movies and showtimes
- Upload posters/images for movies
- View all reservations
- Manage refund notifications for cancellations

### üé´ Reservation System
- View available seats per showtime
- Secure seat booking
- Stripe, JazzCash, Easypaisa payment integration
- Admin notified via email on user cancellations

---

## üß© Tech Stack

| Layer            | Tools Used                          |
|------------------|--------------------------------------|
| Backend API      | [FastAPI](https://fastapi.tiangolo.com/) |
| ORM              | [SQLAlchemy](https://www.sqlalchemy.org/) |
| Auth             | JWT, OAuth2 Password Flow           |
| Database         | PostgreSQL / MySQL (dev)           |
| Email            | SMTP (Gmail or custom)              |
| Payment Gateway  | Stripe / JazzCash / Easypaisa (stubbed/extendable) |
| Documentation    | Swagger UI (auto-generated by FastAPI) |

---


## üîê Auth Flow

- JWT tokens issued at login
- Role-based route protection
- Admin routes are protected using `Depends(get_current_admin)`
- Single login endpoint with role detection

---

## üé¨ API Highlights

### Public
```http
POST /auth/signup               # Register user
POST /auth/login                # Login (user/admin)
GET  /movies                    # List/filter movies
GET  /movies_filter             # Search movies by genre/language
GET  /showtimes/{movie_id}     # View showtimes for a movie
```

### Protected (User)
```http
GET    /reservations/me         # View my bookings
POST   /reservations/{show_id}  # Reserve seat(s)
DELETE /reservations/{id}       # Cancel reservation
```

### Protected (Admin)
```http
POST   /admin/movies            # Add new movie (with image)
POST   /admin/showtimes         # Schedule new showtime
GET    /admin/reservations      # View all reservations
```

Note: More HTTP protocols/ End-points would be added in future.
---

## üß™ Running Locally

### 1. Clone the repo
```bash
git clone https://github.com/your-username/movie-reservation-system.git
cd movie-reservation-system
```

### 2. Create virtual environment & install dependencies
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
pip install -r requirements.txt
```

### 3. Set up environment variables
Create a `.env` file:
```env
DATABASE_URL=mysql:///./movie.db
SECRET_KEY=your_jwt_secret_key
MAIL_USERNAME=your_email@example.com
MAIL_PASSWORD=your_password
```
Note these are for example

### 4. Run the app
```bash
uvicorn app.main:app --reload
```

Open: When it deploy linked would be provided

---

## üìù To Do
- [ ] Add seat maps for showtimes
- [ ] Extend payment integration to JazzCash / Easypaisa
- [ ] Dockerize for production deployment
- [ ] Add rate limiting & logging
- [ ] Frontend (React/Next.js)


---

## üìÑ License

This project is licensed under the [MIT License](LICENSE).
